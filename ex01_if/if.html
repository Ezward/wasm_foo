<!doctype html>

<html>

  <head>
    <meta charset="utf-8">
    <title>example of if statement</title>
  </head>

  <body>
    <script>
        // fetchAndInstantiate() found in wasm-utils.js
        function fetchAndInstantiate(url, importObject) {
            return fetch(url).then(response =>
                response.arrayBuffer()
            ).then(bytes =>
                WebAssembly.instantiate(bytes, importObject)
            ).then(results =>
                results.instance
            );
        }


        fetchAndInstantiate('if.wasm').then(function(instance) {
            // max(2, 3)
            console.log("max(2, 3) == " + instance.exports.max(2, 3));  // max(2, 3) == "3"
        });
    </script>
  </body>

</html>
